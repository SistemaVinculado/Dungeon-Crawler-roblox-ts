@if (player(); as p) {
  <div class="p-4 bg-gradient-to-b from-slate-800/80 to-slate-900/80 border-pixel border-pixel-primary text-sm">
    <div class="flex justify-between items-center mb-3">
        <h2 class="text-lg text-theme-primary">PLAYER STATS</h2>
        @if(p.prestige > 0) {
            <div class="px-2 py-0.5 bg-yellow-600 text-black border-2 border-yellow-400 rounded rank-legendary-gold">
                PRESTIGE {{ p.prestige }}
            </div>
        }
    </div>
    
    <!-- Resources -->
    <div class="space-y-3">
        <!-- HP -->
        <div>
          <div class="flex justify-between items-baseline mb-1">
            <span class="text-red-500 font-bold">HP</span>
            <span class="text-xs">{{ p.hp }} / {{ totalMaxHp() }}</span>
          </div>
          <div class="w-full bg-black/50 border-2 border-slate-600 h-5 p-0.5">
            <div class="bg-red-600 h-full" [style.width.%]="getHealthPercentage()"></div>
          </div>
        </div>
        <!-- EN -->
        <div>
          <div class="flex justify-between items-baseline mb-1">
            <span class="text-blue-400 font-bold">EN</span>
            <span class="text-xs">{{ p.en }} / {{ totalMaxEn() }}</span>
          </div>
          <div class="w-full bg-black/50 border-2 border-slate-600 h-5 p-0.5">
            <div class="bg-blue-500 h-full" [style.width.%]="getEnergyPercentage()"></div>
          </div>
        </div>
        <!-- XP -->
        <div>
          <div class="flex justify-between items-baseline mb-1">
            <span class="text-yellow-500 font-bold">XP</span>
            <span class="text-xs">{{ p.xp }} / {{ p.xpToNextLevel }}</span>
          </div>
          <div class="w-full bg-black/50 border-2 border-slate-600 h-5 p-0.5">
            <div class="bg-yellow-500 h-full" [style.width.%]="getXpPercentage()"></div>
          </div>
        </div>
        <!-- Synergy -->
        <div>
          <div class="flex justify-between items-baseline mb-1">
            <span class="text-purple-400 font-bold">SYNERGY</span>
            <span class="text-xs">{{ synergyMeter() }} / 100</span>
          </div>
          <div class="w-full bg-black/50 border-2 border-slate-600 h-5 p-0.5">
            <div class="bg-purple-500 h-full" [style.width.%]="getSynergyPercentage()"></div>
          </div>
        </div>
    </div>

    <!-- Gold -->
    <div class="flex justify-between items-center mt-4">
        <span class="text-theme-primary font-bold">GOLD</span>
        <span class="text-lg">{{ p.gold }} G</span>
    </div>

    <!-- Divider -->
    <div class="h-1 bg-black my-3 border-y-2 border-slate-600"></div>

    <!-- Core Stats -->
    <div class="grid grid-cols-2 gap-x-2 gap-y-1 text-center">
        <div>
            <p class="text-gray-400">LVL</p>
            <p class="text-lg">{{ p.level }}</p>
        </div>
        <div>
            <p class="text-gray-400">ATK</p>
            <p class="text-lg">{{ totalAttack() }}</p>
        </div>
        <div>
            <p class="text-gray-400">DEF</p>
            <p class="text-lg">{{ totalDefense() }}</p>
        </div>
        <div>
            <p class="text-gray-400">LUCK</p>
            <p class="text-lg text-green-400">{{ totalLuck() }}%</p>
        </div>
    </div>
  </div>
}